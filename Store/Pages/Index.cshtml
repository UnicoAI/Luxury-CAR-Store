@page
@model Store.Pages.IndexModel
@{
    ViewData["Title"] = "Unico Upvc Windows and Doors";
}

<div class="carousel carousel-fade slide" data-bs-ride="carousel" id="slideshow">
    <div class="carousel-indicators">
        <button aria-current="true" aria-label="Slide 1" class="active" data-bs-slide-to="0" data-bs-target="#slideshow" type="button"></button>
        <button aria-label="Slide 2" data-bs-slide-to="1" data-bs-target="#slideshow" type="button"></button>
        <button aria-label="Slide 3" data-bs-slide-to="2" data-bs-target="#slideshow" type="button"></button>
        <button aria-label="Slide 4" data-bs-slide-to="3" data-bs-target="#slideshow" type="button"></button>
        <button aria-label="Slide 5" data-bs-slide-to="4" data-bs-target="#slideshow" type="button"></button>
    </div>
    <div class="carousel-inner">
        <div class="active carousel-item" data-bs-interval="5000">
            <img alt="slide-1" class="d-block w-100" src="/img/slideshow/Door0.jpg">
            <div class="carousel-caption d-md-block d-none" dir="ltr">
                <h5>Save Money With Us</h5>
                <p>Unbeatable Prices</p>
            </div>
        </div>
        <div class="carousel-item" data-bs-interval="5000">
            <img alt="slide-2" class="d-block w-100" src="/img/slideshow/Door1.jpg">
            <div class="carousel-caption d-md-block d-none" dir="ltr">
                <h5>Made To Measure</h5>
                <p>Your wish, our job to accomplish it</p>
            </div>
        </div>
        <div class="carousel-item" data-bs-interval="5000">
            <img alt="slide-3" class="d-block w-100" src="/img/slideshow/Door2.jpg">
            <div class="carousel-caption d-md-block d-none" dir="ltr">
                 <h5>Buy Now Pay Later</h5>
                <p>Interest Free</p>
            </div>
        </div>
        <div class="carousel-item" data-bs-interval="5000">
            <img alt="slide-4" class="d-block w-100" src="/img/slideshow/Door3.jpg">
            <div class="carousel-caption d-md-block d-none" dir="ltr">
                <h5>Save Money With Us</h5>
                <p>Unbeatable Prices</p>
            </div>
        </div>
        <div class="carousel-item" data-bs-interval="5000">
            <img alt="slide-5" class="d-block w-100" src="/img/slideshow/Door4.jpg">
            <div class="carousel-caption d-md-block d-none" dir="ltr">
               <h5>Bespoke Orders</h5>
                <p>Fast Deliveries</p>
            </div>
        </div>

    </div>
    <button class="carousel-control-prev" data-bs-slide="prev" data-bs-target="#slideshow" type="button">
        <span aria-hidden="true" class="carousel-control-prev-icon"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" data-bs-slide="next" data-bs-target="#slideshow" type="button">
        <span aria-hidden="true" class="carousel-control-next-icon"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

@foreach (var category in Model.Categories) {
    <div class="card m-auto my-5" style="max-width: 1200px;">
        <div class="bg-white card-header px-0 py-0" style="font-size: 1.3rem">
            <div class="category-title py-3 text-center text-white" dir="ltr">@category.Title</div>
        </div>
        <div class="card-body d-flex flex-wrap gap-5 justify-content-center py-4">
            @foreach (var product in category.Products) {
                <div class="card card-product pb-3" style="width: 230px;">
                    <a asp-page="/Product/Index" asp-route-id="@product.ProductId">
                        <img alt="@product.Name" class="card-img-top" height="200px" src="@product.ImageUrl" style="max-height: 200px;" width="100%">
                        <div class="card-body text-center text-secondary">
                            <h5 class="card-title" style="font-size: 1.1rem" dir="ltr">@product.Name</h5>
                            <p class="card-text" style="font-size: 1rem; height: 72px" dir="ltr">@product.Description</p>
                            <div class="align-items-center d-flex flex-column gap-1 justify-content-center mt-3" style="height: 50px">
                                <span style="color: #428bca" dir="ltr"> £ @product.Price </span>
                                @if (product.StockQuantity < 10) {
                                    <span class="small text-danger" style="font-size: 0.82rem" dir="ltr">Only @product.StockQuantity left on stock! </span>
                                }
                            </div>

                        </div>
                    </a>
                </div>
            }
        </div>
        <div class="d-flex justify-content-center mb-4 mt-3">
            <a asp-page="/Category/Index" asp-route-id="@category.CategoryId" class="btn btn-outline-primary" dir="ltr">Category: @category.Title</a>
        </div>
    </div>
}