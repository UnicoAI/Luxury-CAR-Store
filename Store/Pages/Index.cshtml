@page
@model Store.Pages.IndexModel
@{
    ViewData["Title"] = "Luxurious Cars";
}

<div class="carousel carousel-fade slide" data-bs-ride="carousel" id="slideshow">
    <div class="carousel-indicators">
        <button aria-current="true" aria-label="Slide 1" class="active" data-bs-slide-to="0" data-bs-target="#slideshow" type="button"></button>
        <button aria-label="Slide 2" data-bs-slide-to="1" data-bs-target="#slideshow" type="button"></button>
        <button aria-label="Slide 3" data-bs-slide-to="2" data-bs-target="#slideshow" type="button"></button>
        <button aria-label="Slide 4" data-bs-slide-to="3" data-bs-target="#slideshow" type="button"></button>
        <button aria-label="Slide 5" data-bs-slide-to="4" data-bs-target="#slideshow" type="button"></button>
    </div>
    <div class="carousel-inner">
        <div class="active carousel-item" data-bs-interval="5000">
            <img alt="slide-1" class="d-block w-100" src="/img/slideshow/bmw.png">
            <div class="carousel-caption d-md-block d-none" dir="ltr">
                <h5>Save Money With Us</h5>
                <p>Unbeatable Prices</p>
            </div>
        </div>
        <div class="carousel-item" data-bs-interval="5000">
            <img alt="slide-2" class="d-block w-100" src="/img/slideshow/jaguar.png">
            <div class="carousel-caption d-md-block d-none" dir="ltr">
                <h5>New Jaguar</h5>
                <p>Your wish, our job to accomplish it</p>
            </div>
        </div>
        <div class="carousel-item" data-bs-interval="5000">
            <img alt="slide-3" class="d-block w-100" src="/img/slideshow/mercedes.png">
            <div class="carousel-caption d-md-block d-none" dir="ltr">
                 <h5>Buy Now Pay Later</h5>
                <p>Interest Free</p>
            </div>
        </div>
        <div class="carousel-item" data-bs-interval="5000">
            <img alt="slide-4" class="d-block w-100" src="/img/slideshow/porsche.png">
            <div class="carousel-caption d-md-block d-none" dir="ltr">
                <h5>Save Money With Us</h5>
                <p>Unbeatable Prices</p>
            </div>
        </div>
        <div class="carousel-item" data-bs-interval="5000">
            <img alt="slide-5" class="d-block w-100" src="/img/slideshow/landrover.png">
            <div class="carousel-caption d-md-block d-none" dir="ltr">
               <h5>Bespoke Orders</h5>
                <p>Fast Deliveries</p>
            </div>
        </div>

    </div>
    <button class="carousel-control-prev" data-bs-slide="prev" data-bs-target="#slideshow" type="button">
        <span aria-hidden="true" class="carousel-control-prev-icon"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" data-bs-slide="next" data-bs-target="#slideshow" type="button">
        <span aria-hidden="true" class="carousel-control-next-icon"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

@foreach (var category in Model.Categories) {
    <div class="card m-auto my-5" style="max-width: 1200px;background: rgba(42, 44, 57, 0.9);color:white">
        <div class="bg-transparent card-header px-0 py-0"  style="font-size: 1.3rem;
                     background: rgba(255, 255, 255, 0.2);
                     border-radius: 16px;
                     box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
                     backdrop-filter: blur(5px);
                     -webkit-backdrop-filter: blur(5px);
                     border: 1px solid rgba(255, 255, 255, 0.3);
                     color:white !inmportant;">
            <div class="category-title py-3 text-center text-white" dir="ltr" style="background:#ef6603">
                <a asp-page="/Category/Index" style="background:transparent;color:white" asp-route-id="@category.CategoryId" dir="ltr">@category.Title</a>
               
            </div>
        </div>
        <div class="card-body d-flex flex-wrap gap-5 justify-content-center py-4" >
            @foreach (var product in category.Products) {
                <div class="card card-product pb-3" style="width: 230px;
                     background: rgba(255, 255, 255, 0.2);
                     border-radius: 16px;
                     box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
                     backdrop-filter: blur(5px);
                     -webkit-backdrop-filter: blur(5px);
                     border: 1px solid rgba(255, 255, 255, 0.3);
                     color:white !inmportant;">
                    <a asp-page="/Product/Index" asp-route-id="@product.ProductId">
                        <img alt="@product.Name" class="card-img-top" height="200px" src="@product.ImageUrl" style="max-height: 200px;" width="100%">
                        <div class="card-body text-center text-secondary">
                            <h5 class="card-title" style="font-size: 1.1rem;color:#ef6603" dir="ltr">@product.Name</h5>
                            <p class="card-text" style="font-size: 1rem; height: 72px;color:white" dir="ltr">@product.Description</p>
                            <div class="align-items-center d-flex flex-column gap-1 justify-content-center mt-3" style="height: 50px">
                                <span style="color: #ef6603;font-size: 1.82rem" dir="ltr"> £ @product.Price </span>
                                @if (product.StockQuantity < 10) {
                                    <span class="small text-danger" style="font-size: 0.82rem" dir="ltr">Only @product.StockQuantity left on stock! </span>
                                }
                            </div>

                        </div>
                    </a>
                </div>
            }
        </div>
      
    </div>
}